<style type="text/css">


#map_canvas {
  position: fixed;
  width: 100%;
  height: calc(100% - 43px);
  border: 0;
}
@media only screen and (orientation:portrait) {
  /* For portrait layouts only */
  #map_canvas {
    top: 50px;
    left: 0;
    right: 0;
    bottom: 33%;
  }

}

@media only screen and (orientation:landscape) {
  /* For landscape layouts only */
 #map_canvas {
    top: 50px;
    left: 50%;
    right: 0;
    bottom: 5%;
  }
}
</style>

<div id="map_canvas"></div>
<script type="text/javascript">

$(document).one("pageLoad", function(event, map) {
  var latlng = new plugin.google.maps.LatLng(28.3166663,-16.5666667);
  map.clear();
  map.animateCamera({
    'target': latlng,
    'zoom': 9,
    'tilt': 80
  });
 $("#marker").click(function() {
    loadKml(map, "www/kml/marker.kml");
  });
  $("#marker").click();
});

function loadKml(map, url) {
   //Load the kml file
  map.addKmlOverlay({
    url: url,
    preserveViewport: false,
    animation: true
  }, function(kmlLayer) {
    kmlLayer.on(plugin.google.maps.event.OVERLAY_CLICK, function(overlay, latLng) {
      overlay.setSnippet("Marker clicked!");
      overlay.showInfoWindow();
    });
  });
}
</script>
